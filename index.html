<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container">
  <h2>Modal Example</h2>
  <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
    Open modal
  </button>

  <!-- The Modal -->
  <div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Modal Heading</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <div class="container">
            <button type="button" id="switch1" class="btn btn-primary switcher_btn" data-container="#form1">First form 1</button>    
            <button type="button" id="switch2" class="btn btn-success switcher_btn" data-container="#form2">Second Form 2</button>


            <button type="button" id="switch3" class="btn btn-primary switcher_btn" data-container="#form3">First form 3</button>    
            <button type="button" id="switch4" class="btn btn-success switcher_btn" data-container="#form4">Second Form 4</button>
            
            
          </div>
          <!-- Form one -->
          <div class="container" id="form1">
            <h2>First form 1</h2>
            <form action="/action_page.php">
              <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" class="form-control" id="email" placeholder="Enter email" name="email">
              </div>
              <div class="form-group">
                <label for="pwd">Password:</label>
                <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="pswd">
              </div>
              <div class="form-group form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" name="remember"> Remember me
                </label>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>          
          <!-- end form one -->
          
          
          
          <!-- form two -->
          <div class="container" id="form2">
            <h2>Second Form 2</h2>
            <form action="/action_page.php">
              <div class="form-group">
                <label for="email">Phone:</label>
                <input type="phone" class="form-control" id="phone" placeholder="Enter Phone" name="phone">
              </div>
              <div class="form-group">
                <label for="pwd">Info:</label>
                <textarea class="form-control" id="textinfo" placeholder="Enter Info" name="info"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>          
          <!-- endform two -->
          
          
          
                    <!-- form two -->
          <div class="container" id="form3">
            <h2>Second Form 3</h2>
            <form action="/action_page.php">
              <div class="form-group">
                <label for="email">Phone:</label>
                <input type="phone" class="form-control" id="phone" placeholder="Enter Phone" name="phone">
              </div>
              <div class="form-group">
                <label for="pwd">Info:</label>
                <textarea class="form-control" id="textinfo" placeholder="Enter Info" name="info"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>          
          <!-- endform two -->
          
          
          
                    <!-- form two -->
          <div class="container" id="form4">
            <h2>Second Form 4</h2>
            <form action="/action_page.php">
              <div class="form-group">
                <label for="email">Phone:</label>
                <input type="phone" class="form-control" id="phone" placeholder="Enter Phone" name="phone">
              </div>
              <div class="form-group">
                <label for="pwd">Info:</label>
                <textarea class="form-control" id="textinfo" placeholder="Enter Info" name="info"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>          
          <!-- endform two -->
          
         
        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
  
</div>

<script>
const switchData = [];
function pageHasSwitchModal(){
   const switchBtns = $(".switcher_btn");
   $(switchBtns).each( (i, switchBtn)=>{
      if ($(switchBtn).length && $(switchBtn).attr("data-container") && $($(switchBtn).attr("data-container")).length){
        $($(switchBtn).attr("data-container")).css("display", "none");
        $(switchBtn).on("click", containerSwitcher);
        switchData.push({btn: $(switchBtn), target: $($(switchBtn).attr("data-container"))});
      }
   });
}
pageHasSwitchModal();

/* this function will not work direct with the button or event to make sure html follow rules it will work with data insde switchData only this hide all registered containers and display one target from switch data*/
function containerSwitcher(event){
  if (!$(event.target).length || !$(event.target).attr("id")){return false;}
  
  
  let currentContainer = null;
  
  switchData.forEach( (switchObj)=>{
    if (switchObj && switchObj['btn'] && switchObj['target'] && $(switchObj['btn']).length && $(switchObj['target']).length){
      const isContHidden = switchObj['target'].css("display") == 'none' ? true : false;
      
      if (!isContHidden){
        switchObj['target'].css("display", "none");
      }
      if ($(event.target).attr("id") == $(switchObj['btn']).attr("id")){
        currentContainer = $(switchObj['target']);
      }
    }
  });
  
  console.log(currentContainer);
  if (currentContainer && $(currentContainer).length){
    $(currentContainer).css("display", "block");
  }
}

</script>

</body>
</html>
